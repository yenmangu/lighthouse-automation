{% extends "base.html" %}
{% load static %}
{% block content %}
  <div class="container-fluid container__index--top">
    <div class="row mt-2">
      <div class="col col-md-4">
        <h1>StudyStack</h1>
        <div class="tagline">
          <p>Learn better. Share smarter. Study together.</p>
        </div>
      </div>
      <div class="col col-md-8">
        <div class="mission-statement">
          <p>
            StudyStack is a community-powered platform where students share and discover study resources designed to support real learning, not just quick answers.
          </p>
          <p>
            From revision notes and guides to curated references and learning tools, StudyStack brings together resources created by students for students. Whether you are revising for an exam or exploring a new subject, you can find material shaped by real study experiences.
          </p>
        </div>
      </div>
    </div>
    <div class="row mt-2 cta">
      <div class="col-12">
        Discover the latest resources below, or <a href="{% url 'resources:subject_list' %}"><span>explore by subject.</span></a>
      </div>
    </div>
  </div>
  <div class="container-fluid resource-list">
    {% for resource in resource_list %}
      {{ resource.featured_image.public_id }}
      <div class="row mt-2">
        <div class="col-md-4">
          {% with image=resource.featured_image %}
            {% if image.public_id == "placeholder" %}
              <img src="{% static 'images/default.jpg' %}"
                   alt="placeholder image"
                   class="card-img-top">
            {% else %}
              <img src="{{ image.url }}" alt="{{ resource.title }}" class="card-img-top">
            {% endif %}
          {% endwith %}
        </div>
        <div class="col-md-8">
          <a href="{% url 'resources:resource_detail' slug=resource.slug %}"
             class="resource_link">
            <div class="card-title">{{ resource.title }}</div>
            <div class="card-description">{{ resource.description }}</div>
          </a>
        </div>
      </div>
    {% empty %}
      <div class="row mt-2">
        <div class="col-md-4">
          <p>No resources to show</p>
        </div>
      </div>
    {% endfor %}
  </div>
  {% if is_paginated %}
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        {% if page_obj.has_previous %}
          <li>
            <a href="?page={{ page_obj.previous_page_number }}" class="page-link">&laquo; PREV</a>
          </li>
        {% endif %}
        {% if page_obj.has_next %}
          <li>
            <a href="?page={{ page_obj.next_page_number }}" class="page-link">NEXT &raquo;</a>
          </li>
        {% endif %}
      </ul>
    </nav>
  {% endif %}
{% endblock content %}
